<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Smart Order — Admin</title>
  <link rel="stylesheet" href="/public/admin/admin.css" />
  <script src="/public/admin/config.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-auth-compat.js"></script>
</head>
<body>
  <header>
    <h1>Smart Order Admin</h1>
    <div class="env">
      <span id="adminUser"></span>
      <button id="logoutBtn">Logout</button>
    </div>
  </header>

  <main>
    <section>
      <h2>Tenants</h2>
      <div class="row">
        <button id="refreshTenants">Refresh</button>
        <select id="tenantSelect"></select>
      </div>
      <div class="row">
        <input id="newTenantName" placeholder="New tenant name" />
        <input id="newTenantSlug" placeholder="Slug (optional)" />
        <button id="createTenant">Create Tenant</button>
      </div>
      <ul id="tenantList"></ul>
    </section>

    <section>
      <h2>Devices</h2>
      <div class="row">
        <span>Usage: <span id="licenseUsage">-</span></span>
        <label style="margin-left:12px;">License limit <input id="licenseLimit" type="number" min="1" style="width:100px;" /></label>
        <button id="saveLicense">Save Limit</button>
      </div>
      <div class="row">
        <input id="claimCode" placeholder="Activation code" />
        <select id="claimRole">
          <option value="cashier">Cashier (master)</option>
          <option value="display">Drive-thru (slave)</option>
        </select>
        <input id="claimName" placeholder="Device name (optional)" />
        <select id="claimBranchSel"><option value="">Select branch (required for display)</option></select>
        <button id="claimDevice">Claim Device</button>
      </div>
      <ul id="deviceList"></ul>
    </section>

    <section>
      <h2>Branches</h2>
      <div class="row">
        <span>Usage: <span id="branchUsage">-</span></span>
        <label style="margin-left:12px;">Branch limit <input id="branchLimit" type="number" min="1" style="width:100px;" /></label>
        <button id="saveBranchLimit">Save Branch Limit</button>
      </div>
      <div class="row">
        <input id="newBranchName" placeholder="Branch name" />
        <button id="addBranch">Add Branch</button>
      </div>
      <ul id="branchList"></ul>
    </section>

    <section>
      <h2>Domains</h2>
      <div class="row">
        <input id="domainHost" placeholder="e.g. cafe.app.ordertech.me" />
        <button id="addDomain">Add Domain</button>
      </div>
      <ul id="domainList"></ul>
    </section>

    <section>
      <h2>Branding</h2>
      <div class="grid">
        <label>Display Name <input id="brandName" /></label>
        <label>Logo URL <input id="logoUrl" /></label>
        <label>Logo File <input id="logoFile" type="file" accept="image/*" /></label>
        <button id="uploadLogo">Upload Logo</button>
        <label>Primary Color <input id="colorPrimary" /></label>
        <label>Secondary Color <input id="colorSecondary" /></label>
      </div>
      <button id="saveBrand">Save Branding</button>
    </section>

    <section>
      <h2>Drive‑Thru Display</h2>
      <div class="grid">
        <label>Banner <input id="dtBanner" /></label>
        <label>Cashier Camera URL <input id="dtCashier" /></label>
        <label>Customer Camera URL <input id="dtCustomer" /></label>
        <label>Featured Product IDs (comma) <input id="dtFeatured" /></label>
      </div>
      <button id="saveDisplay">Save Display State</button>
    </section>
  </main>

  <script src="/public/admin/admin.js"></script>
</body>
</html>
