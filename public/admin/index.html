<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Smart Order — Admin</title>
  <link rel="stylesheet" href="/public/admin/style.css" />
  <script src="/public/admin/config.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-auth-compat.js"></script>
</head>
<body>
  <div class="app">
    <aside class="sidebar" id="sidebar" aria-label="Main">
      <div class="brand">
        <button class="btn icon ghost sidebar-toggle" id="sidebarCollapse" aria-label="Collapse sidebar" title="Collapse sidebar">☰</button>
        <div class="logo" aria-hidden="true"></div>
        <div class="name">Smart Order</div>
      </div>

      <button class="btn primary create-doc">+ Create doc</button>

      <nav class="menu" role="tree">
        <!-- Company Space with app panels -->
        <div class="menu-section open" data-section>
          <button class="menu-head" role="treeitem" aria-expanded="true" aria-controls="sec-company">
            <span class="chev">▾</span>
            <span class="icon"></span>
            <span class="label">Company Space</span>
          </button>
          <div class="menu-body" id="sec-company">
            <a id="navSuper" class="menu-item active" href="#" data-panel="panel-super"><span class="dot"></span><span class="label">Super Admin</span></a>
            <a id="navMarketing" class="menu-item" href="#" data-panel="panel-marketing"><span class="dot"></span><span class="label">Marketing</span></a>
            <a id="navCompany" class="menu-item" href="#" data-panel="panel-company"><span class="dot"></span><span class="label">Company Profile</span></a>
            <a id="navProducts" class="menu-item" href="#" data-panel="panel-products"><span class="dot"></span><span class="label">Products</span></a>
          </div>
        </div>

        <!-- Example extra section (collapsed by default) -->
        <div class="menu-section" data-section>
          <button class="menu-head" role="treeitem" aria-expanded="false" aria-controls="sec-ops">
            <span class="chev">▸</span>
            <span class="icon"></span>
            <span class="label">Operations</span>
          </button>
          <div class="menu-body" id="sec-ops" hidden>
            <a class="menu-item" href="#"><span class="dot"></span><span class="label">Staffing</span></a>
            <a class="menu-item" href="#"><span class="dot"></span><span class="label">Vendors</span></a>
            <a class="menu-item" href="#"><span class="dot"></span><span class="label">Logistics</span></a>
          </div>
        </div>
      </nav>
    </aside>

    <header class="topbar">
      <nav class="breadcrumbs">
        <a href="#">Company Space</a><span class="sep">›</span>
        <span>Admin</span>
      </nav>

      <div class="searchbar">
        <div class="btn-group">
          <button class="btn small list-pill" type="button"><span>List</span><span class="caret">▾</span></button>
          <button class="btn small" type="button"><span>Filter</span><span class="caret">▾</span></button>
          <button class="btn small" type="button"><span>Sort</span><span class="caret">↕</span></button>
        </div>
        <span id="adminUser" class="chip">Signed in</span>
        <button id="logoutBtn" class="btn">Logout</button>
      </div>
      <button class="btn icon ghost only-mobile" id="mobileMenu" aria-label="Toggle menu">☰</button>
    </header>

    <main class="main">
      <!-- Super Admin Panel -->
      <section id="panel-super" class="panel show">
        <h2 class="page-title">Super Admin</h2>
        <section class="card">
          <div class="body">
            <h3>Tenants</h3>
            <div class="toolbar">
              <button id="refreshTenants" class="btn">Refresh</button>
              <select id="tenantSelect" class="select" ></select>
            </div>
            <div class="grid cols-3">
              <input id="newTenantName" class="input" placeholder="New tenant name" />
              <input id="newTenantSlug" class="input" placeholder="Slug (optional)" />
              <button id="createTenant" class="btn primary">Create Tenant</button>
            </div>
            <ul id="tenantList"></ul>
          </div>
        </section>

        <section class="card mt-4">
          <div class="body">
            <h3>Devices</h3>
            <div class="grid cols-3 mt-2">
              <div class="chip">Usage <span id="licenseUsage">-</span></div>
              <label class="flex center">License limit <input id="licenseLimit" class="input" type="number" min="1" style="max-width:120px; margin-left:8px;" /></label>
              <button id="saveLicense" class="btn">Save Limit</button>
            </div>
            <div class="grid cols-4 mt-2">
              <input id="claimCode" class="input" placeholder="Activation code" />
              <select id="claimRole" class="select">
                <option value="cashier">Cashier (master)</option>
                <option value="display">Drive-thru (slave)</option>
              </select>
              <input id="claimName" class="input" placeholder="Device name (optional)" />
              <div class="flex center">
                <select id="claimBranchSel" class="select" style="width:100%"><option value="">Select branch (required for display)</option></select>
              </div>
              <div class="flex">
                <button id="claimDevice" class="btn primary">Claim Device</button>
              </div>
            </div>
            <ul id="deviceList" class="mt-3"></ul>
          </div>
        </section>

        <section class="card mt-4">
          <div class="body">
            <h3>Branches</h3>
            <div class="grid cols-3 mt-2">
              <div class="chip">Usage <span id="branchUsage">-</span></div>
              <label class="flex center">Branch limit <input id="branchLimit" class="input" type="number" min="1" style="max-width:120px; margin-left:8px;" /></label>
              <button id="saveBranchLimit" class="btn">Save Branch Limit</button>
            </div>
            <div class="flex mt-2">
              <input id="newBranchName" class="input" placeholder="Branch name" />
              <button id="addBranch" class="btn">Add Branch</button>
            </div>
            <ul id="branchList" class="mt-2"></ul>
          </div>
        </section>

        <section class="card mt-4">
          <div class="body">
            <h3>Domains</h3>
            <div class="flex mt-2">
              <input id="domainHost" class="input" placeholder="e.g. cafe.app.ordertech.me" />
              <button id="addDomain" class="btn">Add Domain</button>
            </div>
            <ul id="domainList" class="mt-2"></ul>
          </div>
        </section>
      </section>

      <!-- Marketing Panel -->
      <section id="panel-marketing" class="panel">
        <h2 class="page-title">Marketing</h2>
        <section class="card">
          <div class="body">
            <h3>Rotating Posters</h3>
            <div class="toolbar">
              <button id="refreshPosters" class="btn">Refresh Posters</button>
              <span class="badge">uploads coming soon</span>
            </div>
            <div id="posterGrid" class="grid cols-4"></div>
          </div>
        </section>

        <section class="card mt-4">
          <div class="body">
            <h3>Marketing Text / Display Banner</h3>
            <div class="grid cols-2 mt-2">
              <label class="grid"><span class="label">Banner Text</span><input id="dtBanner" class="input" /></label>
              <label class="grid"><span class="label">Featured Product IDs (comma)</span><input id="dtFeatured" class="input" /></label>
            </div>
            <div class="mt-2">
              <button id="saveDisplay" class="btn primary">Save</button>
            </div>
          </div>
        </section>
      </section>

      <!-- Company Profile Panel -->
      <section id="panel-company" class="panel">
        <h2 class="page-title">Company Profile</h2>
        <section class="card">
          <div class="body">
            <h3>Branding</h3>
            <div class="grid cols-3 mt-2">
              <label class="grid"><span class="label">Display Name</span><input id="brandName" class="input" /></label>
              <label class="grid"><span class="label">Logo URL</span><input id="logoUrl" class="input" /></label>
              <label class="grid"><span class="label">Logo File</span><input id="logoFile" class="input" type="file" accept="image/*" /></label>
              <div><button id="uploadLogo" class="btn">Upload Logo</button></div>
              <label class="grid"><span class="label">Primary Color</span><input id="colorPrimary" class="input" /></label>
              <label class="grid"><span class="label">Secondary Color</span><input id="colorSecondary" class="input" /></label>
            </div>
            <div class="mt-2"><button id="saveBrand" class="btn primary">Save Branding</button></div>
          </div>
        </section>
      </section>

      <!-- Products Panel -->
      <section id="panel-products" class="panel">
        <h2 class="page-title">Products</h2>
        <section class="card">
          <div class="body">
            <h3>Catalog Management</h3>
            <p class="lead">Create Categories, Products, and Modifiers, with images and pricing. Coming soon.</p>
          </div>
        </section>
      </section>
    </main>
  </div>

  <script src="/public/admin/admin.js"></script>
</body>
</html>
