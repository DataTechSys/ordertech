<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Koobs · Drive‑Thru</title>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/public/css/style.css?v=1.0.1">
  <script src="/public/js/device-activation.js?v=1.0.20" data-role="cashier" defer></script>
</head>
<body>
  <header class="topbar">
    <style>
      .glass-wrap{ display:flex; align-items:center; gap:10px; }
      .glass-btn{ appearance:none; border:none; border-radius:999px; padding:8px 12px; font-weight:700; cursor:pointer; color:#0b1220; box-shadow: inset 0 0 14px rgba(255,255,255,0.6), 0 4px 12px rgba(0,0,0,0.25); background:linear-gradient(180deg,rgba(255,255,255,0.85),rgba(255,255,255,0.55)); border:1px solid rgba(255,255,255,0.6); }
      .glass-btn.green{ background:linear-gradient(180deg,#2dd36f,#22c55e); color:#0b1220; border-color:#16a34a; }
      .glass-btn.orange{ background:linear-gradient(180deg,#fbbf24,#f59e0b); color:#0b1220; border-color:#d97706; }
      .glass-btn.red{ background:linear-gradient(180deg,#f87171,#ef4444); color:#fff; border-color:#dc2626; }
      .osn-badge{ margin-left:8px; padding:4px 8px; border-radius:6px; background:#1f2937; color:#fff; font-size:12px; border:1px solid #334155; }
      .osn-header{ margin-right:8px; padding:2px 6px; border-radius:6px; background:#111827; color:#fff; font-size:12px; border:1px solid #334155; display:inline-block; }
      .pay-btn{ margin-top:8px; width:100%; padding:10px 12px; border-radius:8px; background:#22c55e; color:#0b1220; font-weight:700; border:1px solid #16a34a; cursor:pointer; }
    </style>
    <img class="logo" src="/public/images/koobs-logo.png" alt="koobs" />
    <div class="glass-wrap">
      <button id="btnPlay" class="glass-btn orange" title="Start session or choose display">▶ Play</button>
      <button id="btnStop" class="glass-btn red" title="Stop session">■ Stop</button>
      <span id="osnBadge" class="osn-badge" style="display:none;">KOA-0000</span>
    </div>
  </header>

  <main class="canvas">
    <!-- UPPER STRIP -->
    <section class="upper">
      <!-- LEFT: VIDEO with PiP -->
      <div class="video-panel">
        <video id="remoteVideo" autoplay playsinline></video>
        <video id="localVideo" class="pip" autoplay muted playsinline></video>
      </div>

      <!-- RIGHT: ORDER SUMMARY -->
      <div class="order-panel">
        <div class="billCard">
          <header class="billHead" style="align-items:flex-start;">
            <h3 style="margin:0;"><span id="osnHeader" class="osn-header" style="display:none;"></span> Order Summary</h3>
            <div class="billStatus" id="billStatus">—</div>
          </header>
          <ul id="billItems" class="billItems"></ul>
          <footer class="billFoot">
            <div class="row total"><span>Total</span><span id="grandTotal">0.000 KWD</span></div>
          </footer>
          <button id="payBtn" class="pay-btn" type="button">Pay</button>
        </div>
      </div>
    </section>

    <!-- MENU -->
    <section class="menu">
      <nav id="cats" class="tabs" role="tablist" aria-label="Menu categories"></nav>
      <div id="grid" class="grid"></div>
    </section>
  </main>

  <div id="optionsModal" style="display:none; position:fixed; inset:0; background:rgba(0,0,0,0.5); z-index:1000; align-items:center; justify-content:center;">
    <div id="optionsCard" style="background:#fff; border-radius:12px; padding:16px; width:min(520px,90vw); max-height:90vh; overflow:auto;">
      <h3 id="optTitle" style="margin-top:0;">Choose Options</h3>
      <div id="optBody"></div>
      <div style="display:flex; justify-content:flex-end; gap:8px; margin-top:16px;">
        <button id="optCancel">Cancel</button>
        <button id="optConfirm">Add</button>
      </div>
    </div>
  </div>

<script src="/public/js/cashier-complete.js?v=1.0.21" defer></script>
</body>
</html>
